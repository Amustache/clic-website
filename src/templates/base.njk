{#
    This file contains base components definitions for Nunjucks templates
    
    Please read {@link README.md} in this folder for guidelines and
    documentation about templating and view definitions.

    These base components are meant to be re-used and composed in templates
    that describe website pages and other components.
#}

{#
    Default <head> inner section
    Contains default values for title, charset, fonts and stylesheets.
    WARNING: the macro DOES NOT define the <head> tag itself.

    @param  title   The <title> of the page

    @example    Default usage of head with an overriden title
        {% import "templates/base.njk" as base %}
        <head>
            {{ base.head(title = "My awesome overriden title") }}
        </head>
#}
{% macro head(title = "CLIC EPFL") %}
    <title>{{title}}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link href="/static/style.css" rel="stylesheet" type="text/css">
{% endmacro %}

{#
    Header component
    Inserts a full width header containing the logo and the menu

    @param tab  String indicating which menu tab should be marked as current
                Possible values : "home", "about" (add tabs if required)

    @param  append  An element to insert at the end of the header section
                    You may need to specify the "| safe" filter at call site to
                    disable escaping of HTML tags (WARNING: DO NOT use this
                    filter on user-provided data as it allows XSS attacks)

    @example    Insertion of header, marking home tab and with appended slider
        {% import "templates/base.njk" as base %}
        {% set slider %}
            <!-- NO user-provided strings in the whole definition -->
            <div class="slider">
                ...
            </div>
        {% endset %}
        {{ base.header(tab = "home", append = slider | safe) }}
#}
{% macro header(tab = "", append = "") %}
    <div class="wrapper slider">
        <div class="header">
            <div class="center">
                <div class="logo">
                    <img src="/img/logo_transparent.png" alt="logo"/>
                </div>

                <div class="menu">
                    <ul>
                        <li {% if tab == "home" %}class="current"{% endif %}>
                            <a href="/">Accueil</a>
                        </li>
                        <li {% if tab == "about" %}class="current"{% endif %}>
                            <a href="/about">L'Association</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        {{append}}
    </div>
{% endmacro %}

{#
    Footer component
    Inserts a full width footer containing contact / social infos and credits

    @example    Inserts the footer
        {% import "templates/base.njk" as base %}
        {{ base.footer() }}
#}
{% macro footer() %}
    <div class="wrapper footer" id="footer">
        <div class="center">
            <div class="content">
                <img class="footer-logo" src="/img/logo_transparent.png" alt="logo"/>
                <img class="footer-logo" src="/img/epfl.png" alt="epfl"/>
                <p class="big">Une association à but non-lucratif de l'Ecole Polytechnique Fédérale de Lausanne</p>
                <p class="coord">
                    CLIC, INN 132, Station 14, EPFL, CH-1015 Lausanne
                    <br>
                    <a href="mailto:&#99;&#108;&#105;&#99;&#64;&#101;&#112;&#102;&#108;&#46;&#99;&#104;">
                        &#99;&#108;&#105;&#99;&#64;&#101;&#112;&#102;&#108;&#46;&#99;&#104;
                    </a>
                </p>
                <div class="social">
                    <a href="https://www.facebook.com/clic.epfl/" target="_blank">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://t.me/clicnews" target="_blank">
                        <i class="fab fa-telegram"></i>
                    </a>
                </div>
                <p class="design">Original website design: Alexandre CHAU &amp; Loïc DROZ.</p>
                <p class="legal">
                    &copy; CLIC association 2019, all rights reserved. Any reproduction, even partial, is strictly prohibited
                </p>
            </div>
        </div>
    </div>
{% endmacro %}